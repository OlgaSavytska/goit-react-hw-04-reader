{"ast":null,"code":"import _defineProperty from \"/Users/olga/Desktop/goit-react-hw-04-reader/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/olga/Desktop/goit-react-hw-04-reader/src/components/Reader/Reader.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport styled4 from './Reader.module.css';\nimport queryString from 'query-string';\n\nconst getItemFromLocation = location => queryString.parse(location.search).item;\n\nconst type = {\n  TRUE: true,\n  FALSE: false\n};\n\nclass Reader extends Component {\n  constructor(props, items) {\n    super(props, items);\n\n    this.handlPrevArticle = () => {\n      this.setState(prevState => ({\n        values: prevState.values - 1 // butPrev: prevState.values === 2 ? type.TRUE : type.FALSE,\n\n      }));\n    };\n\n    this.handlNextArticle = () => {\n      this.setState(prevState => ({\n        values: prevState.values + 1 // butNext:\n        // prevState.values === this.props.items.length - 1 ? type.TRUE : type.FALSE,\n\n      }));\n    };\n\n    this.state = {\n      // publication: this.props.items[0],\n      total: this.props.items.length,\n      values: 1 // butPrev: true,\n      // butNext: false,\n\n    };\n  }\n\n  componentDidMount() {\n    const parse = Number(getItemFromLocation(this.props.location));\n    this.setState({\n      values: parse // butPrev: parse === 1 ? type.TRUE : type.FALSE,\n      // butNext: parse === 12 ? type.FALSE : type.TRUE,\n\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const values = this.state.values;\n    const _this$props = this.props,\n          history = _this$props.history,\n          location = _this$props.location;\n\n    if (prevState.values !== values) {\n      history.push(_objectSpread({}, location, {\n        search: \"item=\".concat(values)\n      }));\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          total = _this$state.total,\n          values = _this$state.values;\n    const items = this.props.items;\n    const publication = items[values - 1];\n    const butNext = values === total ? type.TRUE : type.FALSE;\n    const butPrev = values === 1 ? type.TRUE : type.FALSE;\n    return React.createElement(\"div\", {\n      className: styled4.reader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Publication, {\n      publication: publication,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(Counter, {\n      values: values,\n      total: total,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Controls, {\n      butPrev: butPrev,\n      butNext: butNext,\n      handlPrevArticle: this.handlPrevArticle,\n      handlNextArticle: this.handlNextArticle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}\n\nReader.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired\n  }).isRequired).isRequired\n};\nexport default Reader;","map":{"version":3,"sources":["/Users/olga/Desktop/goit-react-hw-04-reader/src/components/Reader/Reader.js"],"names":["React","Component","PropTypes","Publication","Counter","Controls","styled4","queryString","getItemFromLocation","location","parse","search","item","type","TRUE","FALSE","Reader","constructor","props","items","handlPrevArticle","setState","prevState","values","handlNextArticle","state","total","length","componentDidMount","Number","componentDidUpdate","prevProps","history","push","render","publication","butNext","butPrev","reader","propTypes","arrayOf","shape","id","string","isRequired","title","text"],"mappings":"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","sourcesContent":["/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport styled4 from './Reader.module.css';\nimport queryString from 'query-string';\n\nconst getItemFromLocation = (location) =>\n  queryString.parse(location.search).item;\n\nconst type = {\n  TRUE: true,\n  FALSE: false,\n}\n\nclass Reader extends Component {\n  constructor(props, items) {\n    super(props, items);\n\n    this.state = {\n      // publication: this.props.items[0],\n      total: this.props.items.length,\n      values: 1,\n      // butPrev: true,\n      // butNext: false,\n    };\n\n  }\n\n  componentDidMount() {\n    const parse = Number(getItemFromLocation(this.props.location));\n    this.setState({\n      values: parse,\n      // butPrev: parse === 1 ? type.TRUE : type.FALSE,\n      // butNext: parse === 12 ? type.FALSE : type.TRUE,\n    });\n\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { values } = this.state;\n    const { history, location } = this.props;\n    if (prevState.values !== values) {\n      history.push({ ...location, search: `item=${values}` })\n    }\n  }\n\n  handlPrevArticle = () => {\n    this.setState(prevState => ({\n      values: prevState.values - 1,\n      // butPrev: prevState.values === 2 ? type.TRUE : type.FALSE,\n    }));\n  };\n\n  handlNextArticle = () => {\n    this.setState(prevState => ({\n      values: prevState.values + 1,\n      // butNext:\n      // prevState.values === this.props.items.length - 1 ? type.TRUE : type.FALSE,\n    }));\n  };\n\n  render() {\n    const { total, values } = this.state;\n    const { items } = this.props;\n    const publication = items[values - 1];\n\n    const butNext = values === total ? type.TRUE : type.FALSE;\n    const butPrev = values === 1 ? type.TRUE : type.FALSE;\n\n    return (\n      <div className={styled4.reader}>\n        <Publication publication={publication} />\n        <Counter values={values} total={total} />\n        <Controls\n          butPrev={butPrev}\n          butNext={butNext}\n          handlPrevArticle={this.handlPrevArticle}\n          handlNextArticle={this.handlNextArticle}\n        />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Reader;\n"]},"metadata":{},"sourceType":"module"}