{"ast":null,"code":"import _defineProperty from \"/Users/olga/Desktop/goit-react-hw-04-reader/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/olga/Desktop/goit-react-hw-04-reader/src/components/Reader/Reader.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport styled4 from './Reader.module.css';\nimport queryString from 'query-string';\n\nconst getItemFromLocation = location => queryString.parse(location.search).item;\n\nclass Reader extends Component {\n  constructor(props, items) {\n    super(props, items);\n\n    this.handlPrevArticle = () => {\n      this.setState(prevState => ({\n        publication: this.props.items[prevState.values - 1],\n        values: prevState.values - 1,\n        butPrev: prevState.values === 1 && !prevState.butPrev,\n        butNext: prevState.values === this.props.items.length && !prevState.butNext\n      }));\n    };\n\n    this.handlNextArticle = () => {\n      this.setState(prevState => ({\n        publication: this.props.items[prevState.values + 1],\n        values: prevState.values + 1,\n        butPrev: prevState.values === 1 && !prevState.butPrev,\n        butNext: prevState.values === this.props.items.length - 1 && !prevState.butNext\n      }));\n    };\n\n    this.state = {\n      publication: this.props.items[0],\n      total: this.props.items.length,\n      values: 1,\n      butPrev: true,\n      butNext: false\n    };\n  }\n\n  componentDidMount() {\n    const parse = getItemFromLocation(this.props.location);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const values = this.state.values;\n    const _this$props = this.props,\n          history = _this$props.history,\n          location = _this$props.location;\n\n    if (prevState.values !== values) {\n      this.props.history.push(_objectSpread({}, this.props.location, {\n        search: \"item=\".concat(values)\n      }));\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          publication = _this$state.publication,\n          total = _this$state.total,\n          values = _this$state.values,\n          butPrev = _this$state.butPrev,\n          butNext = _this$state.butNext;\n    return React.createElement(\"div\", {\n      className: styled4.reader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Publication, {\n      publication: publication,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Counter, {\n      values: values,\n      total: total,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(Controls, {\n      butPrev: butPrev,\n      butNext: butNext,\n      handlPrevArticle: this.handlPrevArticle,\n      handlNextArticle: this.handlNextArticle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }));\n  }\n\n}\n\nReader.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired\n  }).isRequired).isRequired\n};\nexport default Reader;","map":{"version":3,"sources":["/Users/olga/Desktop/goit-react-hw-04-reader/src/components/Reader/Reader.js"],"names":["React","Component","PropTypes","Publication","Counter","Controls","styled4","queryString","getItemFromLocation","location","parse","search","item","Reader","constructor","props","items","handlPrevArticle","setState","prevState","publication","values","butPrev","butNext","length","handlNextArticle","state","total","componentDidMount","componentDidUpdate","prevProps","history","push","render","reader","propTypes","arrayOf","shape","id","string","isRequired","title","text"],"mappings":"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","sourcesContent":["/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport styled4 from './Reader.module.css';\nimport queryString from 'query-string';\n\nconst getItemFromLocation = (location) =>\n  queryString.parse(location.search).item;\n\nclass Reader extends Component {\n  constructor(props, items) {\n    super(props, items);\n\n    this.state = {\n      publication: this.props.items[0],\n      total: this.props.items.length,\n      values: 1,\n      butPrev: true,\n      butNext: false,\n    };\n\n  }\n\n  componentDidMount() {\n    const parse = getItemFromLocation(this.props.location)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { values } = this.state;\n    const { history, location } = this.props;\n    if (prevState.values !== values) {\n      this.props.history.push({ ...this.props.location, search: `item=${values}` })\n    }\n  }\n\n  handlPrevArticle = () => {\n    this.setState(prevState => ({\n      publication: this.props.items[prevState.values - 1],\n      values: prevState.values - 1,\n      butPrev: prevState.values === 1 && !prevState.butPrev,\n      butNext:\n        prevState.values === this.props.items.length && !prevState.butNext,\n    }));\n  };\n\n  handlNextArticle = () => {\n    this.setState(prevState => ({\n      publication: this.props.items[prevState.values + 1],\n      values: prevState.values + 1,\n      butPrev: prevState.values === 1 && !prevState.butPrev,\n      butNext:\n        prevState.values === this.props.items.length - 1 && !prevState.butNext,\n    }));\n  };\n\n  render() {\n    const { publication, total, values, butPrev, butNext } = this.state;\n\n    return (\n      <div className={styled4.reader}>\n        <Publication publication={publication} />\n        <Counter values={values} total={total} />\n        <Controls\n          butPrev={butPrev}\n          butNext={butNext}\n          handlPrevArticle={this.handlPrevArticle}\n          handlNextArticle={this.handlNextArticle}\n        />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Reader;\n"]},"metadata":{},"sourceType":"module"}